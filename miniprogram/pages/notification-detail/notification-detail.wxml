<!-- é¡¶éƒ¨çŠ¶æ€æ  -->
<view class="notification-header {{notification.type}}">
  <view class="header-content">
    <view class="back-btn" bindtap="navigateBack">
      <text class="icon">â†</text>
    </view>
    <view class="notification-type">
      <view class="title">{{notification.title}}</view>
      <view class="status">
        <text class="dot">â—</text>
        <text>{{notification.status === 'unread' ? 'æœªè¯»é€šçŸ¥' : 'å·²è¯»é€šçŸ¥'}}</text>
      </view>
    </view>
  </view>
</view>

<!-- é€šçŸ¥å†…å®¹åŒºåŸŸ -->
<scroll-view class="notification-content" scroll-y>
  <view class="notification-title">
    <text class="title-text">{{notification.title}}</text>
    <view class="notification-time">
      <text class="icon">ğŸ•’</text>
      <text>{{formatTime(notification.time)}}</text>
    </view>
  </view>
  
  <view class="notification-message">
    {{notification.message}}
  </view>
  
  <view class="detail-card">
    <view class="card-title">
      <text class="icon">ğŸ“‹</text>
      <text>é¢„çº¦è¯¦æƒ…</text>
    </view>
    
    <view class="detail-item">
      <text class="detail-label">æ—¥æœŸ</text>
      <text class="detail-value">{{notification.details.date}}</text>
    </view>
    
    <view class="detail-item">
      <text class="detail-label">æ—¶é—´æ®µ</text>
      <text class="detail-value">{{notification.details.timeSlot}}</text>
    </view>
    
    <view class="detail-item">
      <text class="detail-label">ç±»å‹</text>
      <text class="detail-value">{{notification.details.purpose}}</text>
    </view>
    
    <view class="detail-item">
      <text class="detail-label">å‘èµ·äºº</text>
      <text class="detail-value">{{notification.details.initiator}}</text>
    </view>
  </view>
</scroll-view>

<!-- æ“ä½œåŒºåŸŸ -->
<view class="action-area">
  <block wx:if="{{notification.type === 'incoming' && notification.status === 'unread'}}">
    <view class="action-title">è¯·é€‰æ‹©æ‚¨çš„æ“ä½œï¼š</view>
    <view class="action-buttons">
      <button class="action-btn confirm" bindtap="handleAction" data-action="confirm">åŒæ„é¢„çº¦</button>
      <button class="action-btn reject" bindtap="handleAction" data-action="reject">æ‹’ç»è¯·æ±‚</button>
    </view>
  </block>
  
  <block wx:if="{{notification.type === 'incoming' && notification.status === 'read'}}">
    <view class="status-tag">
      <view class="status-badge {{notification.details.action}}">
        {{notification.details.action === 'confirm' ? 'å·²åŒæ„' : 'å·²æ‹’ç»'}}
      </view>
    </view>
  </block>
  
  <block wx:if="{{notification.type === 'outgoing'}}">
    <view class="status-tag">
      <view class="status-badge {{notification.type}}">
        {{notification.type === 'confirmed' ? 'å¯¹æ–¹å·²åŒæ„' : 'å¯¹æ–¹å·²æ‹’ç»'}}
      </view>
    </view>
  </block>
</view>